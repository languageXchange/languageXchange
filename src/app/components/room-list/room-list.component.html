<ion-item-sliding #slidingItem>
  <ion-item-options>
    <ion-item-option *ngIf="!isArchived" (click)="archiveRoom(room)" color="primary"  expandable>
      Archive
    </ion-item-option>
    <ion-item-option *ngIf="isArchived" (click)="unArchiveRoom(room)" color="primary" expandable>
      Unarchive
    </ion-item-option>
  </ion-item-options>
  <ion-item (click)="getChat(room)">
    <ng-container *ngIf="room">
      <ion-avatar slot="start">
        <img
          [src]="room?.['userData']?.profilePhoto"
          alt=""
          referrerpolicy="no-referrer"
        />
      </ion-avatar>
      <ion-label>
        <h2>
          <small *ngIf="lastSeen(room?.['userData']?.lastSeen) == 'online'"
            >ðŸŸ¢
          </small>
          {{room?.['userData']?.name}}
        </h2>
        <p>{{ getLastMessage(room)?.body }}</p>
      </ion-label>
      <div class="metadata-end-wrapper" slot="end">
        <ion-badge color="danger" *ngIf="getBadge(room) !== 0">
          {{ getBadge(room) }}
        </ion-badge>
        <ion-note> {{ messageTime(room?.$updatedAt) }} </ion-note>
      </div>
    </ng-container>
  </ion-item>
</ion-item-sliding>
